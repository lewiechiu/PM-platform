# 2019 NTU DBMS Final Project

## Motives
The goal of this database is to organize and manage Software Engineering Firms such as IT Solution Providers. It will keep track of its resources, projects, and orders. The targeted users will be managers of such Software Engineering Firms.

The database will include information of respective Software Engineers, the tasks and resources needed for a task, as well as the customers that order products and salesmen that have the orders to these customers. 

It will include features that calculate and plan project priorities, rank employee performance, allocate resources to different tasks and more.

## System Architecture

### 1. Front-end User Interface

* Command line environment: Python Inquirer, Requests.

### 2. Backend System Stack
* Server Environment: Ubuntu 18.04
* Server hosting framework: Python Flask
* Database: MySQL 5.7

## System Functions
### 1. DataBase Design
We have designed 9 tables which will be needed in a project management software. Mainly we will focus on data that is related to software engineers, salesmen and customers. 

Inside the firm, for all employee, they have talent data (**Talent**) and employee data (**SWE**, **Salesman**). Each one of them has different work. SWEs work on projects (**Project**), tasks (**Task**) and bugs (**Bug**). SWEs need computing resources (**Resources**) while working. Outside the firm, salesmen make orders (**Order**) with customers (**Customer**). 

#### i. ER-Diagram
According to our needs for the data, we can draw the ER-diagram shown as below.  
![](https://i.imgur.com/IdkeXyx.png)

#### ii. Tables
According to the ER-diagram, we first created 9 tables that are mainly to store entity data and one-to-many relationships.
| Table Name | Description                                                         | Attributes                                                                                                                                                         |
|:---------- |:------------------------------------------------------------------- |:------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| SWE        | responsible for doing the projects                                  | SWEID int(11), Name text, Ssn int(11), Title text, Salary int(11), Age int(11), YearsOfExperience int(11), Address text, Gender text, State text        |
| Talent     | record every employees talents                                     | ID int(11), Talent text                                                                                                                                        |
| Project    | project info                                                        | PROJECTID int(11), ORDERID int(11), MANAGERID int(11), State text                                                                                          |
| Resources  | will be allocated to task                                           | RESOURCEID int(11), Description text, Capacity int(11)                                                                                                       |
| Task       | info of tasks. Its assigned under projects. Some of tasks are bugs | TASKID int(11), State text, Category text, PROJECTID int(11)                                                                                               |
| Bug        | bug reports.                                                        | TASKID int(11), Description text                                                                                                                               |
| Salesman   | sell products  to customers                                         | SALESMANID int(11), Name text, Ssn int(11), Title text, Salary int(11), Age int(11), YearsOfExperience int(11), Address text, Gender text, State text |
| Customer   | customer info                                                       | CUSTOMERID int(11), CustomerName text, CompanyName text, SALESMANID int(11)                                                                                   |
| Order      | order info                                                          | ORDERID int(11), EstablishTime text, EndTime text, Deadline text, SALESMANID int(11), Price int(11), State text                                            |


Besides entity and one-to-many tables, there are also tables that are generated by many-to-many relationships. 
| Table Name    | Attributes                                                                                                                                                         |
|:-------------- |:------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Project_SWE    | PROJECTID int(11), SWEID int(11)                                                                                                                               |
| Task_Resources | RESOURCEID int(11), TASKID int(11), Amount int(11)                                                                                                           |


#### iii. Schema Diagram
Summarizing the above-mentioned tables, we will eventually come up with 10 tables. The relationships and how the foreign keys are referred are shown in the schema diagram below.
![](https://i.imgur.com/rOjCO21.png )


### 2. API Functions
The software is designed for project managers and salesman managers. With this application, managers can manage their colleges and work more efficiently. 
| End User             | View               | 
| --------             | --------           | 
| Project Manger       | SWE, Project       | 
| Salesman Manger      | Salesman, Order    | 

#### i. Project Manager

* SWE view: APIs for CRUD operations on software-engineer-related data
```code{Javascript}
API Address: {url}/api/order/{function}
```

| CRUD   | Function                | Description                                                                          |
|:------ |:----------------------- |:------------------------------------------------------------------------------------ |
| Create | create_swe              | create a new swe                                                                     |
| Read   | show_project_experience | show how many projects the swe has done before and the detailed info on each project |
| Read   | select_by_talent        | select swes by given talent input                                                    |
| Read   | get_all_swe_Talent      | retrieve all unique talents that all swes have                                       |
| Read   | get_swe_info            | retrieve basic info of the swe                                                       |
| Update | update_swe              | update the attributes of the swe with the given values                               |
| Update | promote_swe             | increase 10 % on the salary of the swe if the swe has done more than 5 projects      |
| Update | delete_swe              | change the state of the swe from 'in-office' to 'retired'                            |


* Project view: APIs for CRUD operations on project-related data
```code{Javascript}
API Address: {url}/api/project/{function}
```

| CRUD   | Function             | Description                                                                            |
|:------ |:-------------------- |:-------------------------------------------------------------------------------------- |
| Create | new_project          | create a new project                                                                   |
| Create | new_task             | create a new task                                                                      |
| Read   | get_active           | retrieve info of the active projects                                                   |
| Read   | get_project_talent   | retrieve all the unique talents all swes have who is in the given project              |
| Read   | get_swe_availablitiy | retrieve the remaining capacity of the swe. The default maximum capacity is 5 projects |
| Update | update_project       | update the attributes of the project with the given values                             |
| Update | update_task_resource | update the amount of the resource that task has                                        |
| Update | update_task_state    | update task's state. Two possible states: 'in-progress' or 'finished'                  |
| Update | update_project_swe   | add or remove swes from the project                                                    |
| Delete | delete_project       | change the state of the project from 'in-progress' to 'finished'                       |

#### ii. Salesman Manager

* Salesman view: APIs for CRUD operations on salesman-related data
```code{Javascript}
API Address: {url}/api/salesman/{function}
```
| CRUD   | Function                 | Description                                                                               |
|:------ |:------------------------ |:----------------------------------------------------------------------------------------- |
| Create | create_salesman          | create a new salesman                                                                     |
| Read   | show_order_experience    | show how many orders the salesman has done before and the detailed info on each project   |
| Read   | select_by_talent         | select salesmen by given talent input                                                     |
| Read   | get_all_salesman_Talent  | retrieve all unique talents that all salesmen have                                        |
| Read   | get_salesman_info        | retrieve basic info of the salesmen                                                       |
| Read   | get_customer_by_salesman | change the state of the salesmen from 'in-office' to 'retired'                            |
| Update | update_salesman          | update the attributes of the salesmen with the given values                               |
| Update | promote_salesman         | increase 10 % on the salary of the salesmen if the salesmen has done more than 5 projects |
| Update | delete_crew              | change the state of the salesmen from 'in-office' to 'retired'                            |


* Order view: APIs for CRUD operations on order-related data
```code{Javascript}
API Address: {url}/api/salesman/{function}
```
| CRUD   | Function                | Description                                                                                               |
|:------ |:----------------------- |:--------------------------------------------------------------------------------------------------------- |
| Create | create_order            | create a new order                                                                                        |
| Read   | order_priority          | show the priorities of all the orders which are decided by their price                                    |
| Read   | get_order_project_state | retrieve all the states of the projects under the order. Two possible states: 'in-progress' or 'finished' |
| Read   | responsible_salesman    | retrieve the salesman who is responsible for the order                                                    |
| Update | finish_order            | update the order's state from 'in-progress' to 'finished'                                                 |
| Delete | delete_order            | delete order from the database                                                                            |

## Future Work and Future Applications

### User Interface

> A good application always has a decent look and feel

To be honest, we didn't really have spent much time of designing a good UI look and experience. We come to realize that there are actually lots of independent features lying around our project. A good UI design should try to incorporate those features into several usable functions for user. We did lack the capability to achieve such goal and we should definitely take that into consideration if we have chance to develop another system.


### Automations and complex assiting features

During the development of our final project, we found that the features we were developing in the backend. It, in fact, has a rather separated sets of features. Only some of them can be used with others to provide a complex task. For instance, most of our APIs are at the basic level, which is the standard CRUD operations.

However, we now still aren't able to perform operations like automatically allocate software engineers when a new order is created. Or, even to consider the talents a software engineer currently posesses.

## Lessons from the Project

The things our group picked up and found helpful during the process of the final project was
1. Full stack development.
    * It was really challenging for us to learn both front end and backend.
    * For web development, it is a whole new domain for each of us. We spent lots of time understanding the spirit of the framework we are using.
3. System Requirements
    * Trying to understand what the user might found useful instead of us being entertained by an overengineered feature is really challenging. Since most of the case we are not the targeted audience for our system, we will have to figure out on our own what defines a good feature.
5. Collaboration of software development:
    * The colab process would have been much horrible if we didn't use version control software like **git**.
    * We learned a lot about merge conflicts, pull push process, branches, and how to develop independently on different features.
